<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>树结构</title>

    <link rel="stylesheet" href="../css/common/include.css">
    <script  language="javascript" type="text/javascript"  src="../js/common/include.js"></script>

</head>

<body id="body">

<div id="navigation"></div>

<div class="row" style="margin-top: 70px;height: 560px" >
    <div class="col-md-2" >
        <div style="overflow-x:scroll;overflow-y:scroll">
            <ul id="regionZTree" class="ztree"></ul>
        </div>
    </div>

    <div class="col-md-10 text-center">
        <h1>工作台</h1>
    </div>
</div>


<script>

  function initTree(){
       var setting = {
            view: {
                 dblClickExpand: false,
                 showLine: true,
                 fontCss:{'color':'black','font-weight':'bold'},
                 selectedMulti: true,
                 showIcon: true,
                 showTitle: true

            },
            edit:{
                enable: true,
                editNameSelectAll: true,
                showRemoveBtn : true,
                showRenameBtn : true,
                removeTitle : "remove",
                renameTitle : "rename"
            },
            data: {
                simpleData: {
                       enable: true,
                       idKey: "id",
                       pIdKey: "parentId",
                       rootPId: -1
                },
                key: {
                       name: "menuName"
                }
            },
            check: {
                enable: true,
                chkStyle: "checkbox",
                chkboxType: { "Y": "p", "N": "s" }
            },
            callback: {
                 onClick: onSelected,
                 onCheck: onChecked
            }
       };


       function onSelected(event, treeId, treeNode) {
         //alert('点击'+treeNode.menuName);
       };

       function onChecked(event, treeId, treeNode) {

         var parentNode =  treeNode.getParentNode();
         var parentNodeChecked = parentNode.checked;
         var checkStatus = parentNode.getCheckStatus();

         alert('当前选择节点：'+treeNode.menuName+'，父节点:（名称:'+parentNode.menuName+',选中状态:'+parentNodeChecked+',半勾选状态:'+checkStatus.half+')');
       };


       var zNodes = [
                   //注意，数据中的 menuName 必须与 settingss 中key 中定义的name一致，否则找不到
                   {id:1,parentId:0,menuName:"父节点1", open:true, children:[
                                                            {id:11,parentId:1,menuName:"子节点11",check: true},
                                                             {id:12,parentId:1,menuName:"子节点12"}
                                                            ]
                   },
                   {id:2,parentId:0,menuName:"父节点2", open:true, children:[
                                                            {id:21,parentId:2,menuName:"子节点21"},
                                                            {id:22,parentId:2,menuName:"子节点22"}
                                                            ]
                   }
                   ];

  zTreeObj = $.fn.zTree.init($("#regionZTree"), setting, zNodes); //初始化树
  zTreeObj.expandAll(true);    //true 节点全部展开、false节点收缩
  };

  $(function () {
        initPage();
        $('#tree').css('font-size','25px');
        initTree();
  });


</script>

</body>
</html>